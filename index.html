<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="现代化综合性电商平台 - 发现优质商品">
  <title>优选商城 - 您的在线购物首选</title>
  <link rel="stylesheet" href="styles.css">
  <script type="module" src="dist/main.js" defer></script>
</head>

<body>
  <!-- 页面加载动画 -->
  <div id="page-loader" class="page-loader">
    <div class="loader-spinner"></div>
  </div>

  <!-- 顶部导航栏 -->
  <header class="header" role="banner">
    <div class="container">
      <nav class="nav" aria-label="主导航">
        <div class="nav-brand">
          <h1 class="logo">优选商城</h1>
        </div>

        <button class="nav-toggle" aria-label="切换导航菜单" aria-expanded="false">
          <span class="hamburger"></span>
        </button>

        <div class="nav-menu">
          <ul class="nav-list">
            <li><a href="#" class="nav-link active">首页</a></li>
            <li><a href="#" class="nav-link" data-category="electronics">电子产品</a></li>
            <li><a href="#" class="nav-link" data-category="fashion">时尚服饰</a></li>
            <li><a href="#" class="nav-link" data-category="home">家居生活</a></li>
            <li><a href="#" class="nav-link" data-category="books">图书文具</a></li>
          </ul>

          <div class="nav-actions">
            <button class="theme-toggle" aria-label="切换主题模式" title="切换暗黑模式">
              <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
              </svg>
              <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
              </svg>
            </button>

            <button class="btn-icon cart-button" aria-label="购物车">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
              </svg>
              <span class="cart-badge">0</span>
            </button>

            <button class="btn-primary" id="login-btn">登录</button>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <!-- 主要内容 -->
  <main class="main">
    <!-- 搜索栏 -->
    <section class="search-section">
      <div class="container">
        <div class="search-wrapper">
          <div class="search-box">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <input type="search" class="search-input" placeholder="搜索商品..." aria-label="搜索商品" id="search-input">
          </div>
          <div class="search-results" id="search-results" hidden></div>
        </div>
      </div>
    </section>

    <!-- 商品筛选和排序 -->
    <section class="filters-section">
      <div class="container">
        <div class="filters-bar">
          <div class="filter-group">
            <button class="filter-btn active" data-category="all">全部商品</button>
            <button class="filter-btn" data-category="electronics">电子产品</button>
            <button class="filter-btn" data-category="fashion">时尚服饰</button>
            <button class="filter-btn" data-category="home">家居生活</button>
            <button class="filter-btn" data-category="books">图书文具</button>
          </div>

          <div class="sort-group">
            <label for="sort-select" class="sort-label">排序：</label>
            <select id="sort-select" class="sort-select">
              <option value="default">默认</option>
              <option value="price-asc">价格从低到高</option>
              <option value="price-desc">价格从高到低</option>
              <option value="sales">销量</option>
              <option value="rating">评分</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <!-- 商品列表 -->
    <section class="products-section" aria-label="商品列表">
      <div class="container">
        <div id="products-grid" class="products-grid">
          <!-- 骨架屏加载效果 -->
          <div class="product-skeleton"></div>
          <div class="product-skeleton"></div>
          <div class="product-skeleton"></div>
          <div class="product-skeleton"></div>
          <div class="product-skeleton"></div>
          <div class="product-skeleton"></div>
        </div>
      </div>
    </section>

    <!-- 最近浏览 -->
    <section class="history-section" id="history-section" hidden>
      <div class="container">
        <h2 class="section-title">最近浏览</h2>
        <div class="history-grid" id="history-grid"></div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>关于我们</h3>
          <p>优选商城致力于为您提供最优质的购物体验</p>
        </div>
        <div class="footer-section">
          <h3>客户服务</h3>
          <ul>
            <li><a href="#">帮助中心</a></li>
            <li><a href="#">退换货政策</a></li>
            <li><a href="#">联系我们</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>关注我们</h3>
          <div class="social-links">
            <a href="#" aria-label="微信">微信</a>
            <a href="#" aria-label="微博">微博</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 优选商城. 综合性电商网站开发项目</p>
      </div>
    </div>
  </footer>

  <!-- 购物车侧边栏 -->
  <aside class="cart-sidebar" id="cart-sidebar" aria-label="购物车">
    <div class="cart-header">
      <h2>购物车</h2>
      <button class="btn-close" aria-label="关闭购物车">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <div class="cart-body" id="cart-items">
      <div class="cart-empty">
        <p>购物车是空的</p>
        <p class="text-muted">快去挑选心仪的商品吧！</p>
      </div>
    </div>

    <div class="cart-footer">
      <div class="cart-summary">
        <div class="summary-row">
          <span>小计：</span>
          <span id="cart-subtotal">¥0.00</span>
        </div>
        <div class="summary-row">
          <span>运费：</span>
          <span id="cart-shipping">¥0.00</span>
        </div>
        <div class="summary-row summary-total">
          <span>总计：</span>
          <span id="cart-total">¥0.00</span>
        </div>
      </div>
      <button class="btn-primary btn-block" id="checkout-btn" disabled>去结算</button>
    </div>
  </aside>

  <!-- 商品详情弹窗 -->
  <div class="modal" id="product-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" hidden>
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <button class="modal-close" aria-label="关闭">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      <div class="modal-body" id="modal-body">
        <!-- 动态加载商品详情 -->
      </div>
    </div>
  </div>

  <!-- 登录弹窗 -->
  <div class="modal" id="login-modal" role="dialog" aria-modal="true" aria-labelledby="login-title" hidden>
    <div class="modal-overlay"></div>
    <div class="modal-content modal-small">
      <button class="modal-close" aria-label="关闭">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      <div class="modal-body">
        <h2 id="login-title">登录账户</h2>
        <form id="login-form" class="form" novalidate>
          <div class="form-group">
            <label for="email" class="form-label">邮箱</label>
            <input type="email" id="email" class="form-input" placeholder="your@email.com" required aria-required="true"
              aria-describedby="email-error">
            <span class="form-error" id="email-error" role="alert"></span>
          </div>

          <div class="form-group">
            <label for="password" class="form-label">密码</label>
            <input type="password" id="password" class="form-input" placeholder="••••••••" required minlength="6"
              aria-required="true" aria-describedby="password-error">
            <span class="form-error" id="password-error" role="alert"></span>
          </div>

          <button type="submit" class="btn-primary btn-block">登录</button>
          <p class="text-center text-muted">还没有账户？ <a href="#" id="show-register">注册</a></p>
        </form>
      </div>
    </div>
  </div>

  <div class="toast-container" id="toast-container" aria-live="polite" aria-atomic="true"></div>
</body>

</html>